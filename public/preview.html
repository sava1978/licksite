<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Коллективное творчество</title>
  <style>
    body, html, iframe {
      margin: 0; padding: 0; height: 100vh; width: 100vw; border: none;
    }
    iframe {
      display: block;
      width: 100%;
      height: 100%;
    }
  </style>
</head>
<body>
<iframe id="previewFrame"></iframe>

<script src="/socket.io/socket.io.js"></script>
<script>
  const socket = io();
  const previewFrame = document.getElementById('previewFrame');

  function updatePreview(content) {
    const doc = previewFrame.contentDocument || previewFrame.contentWindow.document;
    doc.open();
    doc.write(content);
    doc.close();
  }

  socket.on('update', (data) => {
    updatePreview(data);
  });
</script>
</body>
</html>
